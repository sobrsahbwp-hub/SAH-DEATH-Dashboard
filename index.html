<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sadiq Abbasi Hospital - Mortality Dashboard</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>

/* ===== THEME VARIABLES ===== */
:root{
--bg:#f4f8fc;
--card:#ffffff;
--text:#222;
--primary:#007BFF;
}

.dark-mode{
--bg:#121212;
--card:#1e1e1e;
--text:#f1f1f1;
--primary:#4da3ff;
}

body{
font-family:'Segoe UI',sans-serif;
margin:0;
background:var(--bg);
color:var(--text);
transition:0.3s;
}

.top-bar{
display:flex;
justify-content:flex-end;
padding:10px 20px;
background:var(--card);
box-shadow:0 2px 5px rgba(0,0,0,0.1);
}

.clock{
font-weight:bold;
color:var(--primary);
}

header{
text-align:center;
background:var(--card);
padding:15px;
}

.logo{height:80px;}

.filters{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
gap:15px;
padding:20px;
}

select,input{
width:100%;
padding:6px;
border-radius:6px;
border:1px solid #ccc;
}

.kpis{
display:flex;
justify-content:center;
gap:20px;
flex-wrap:wrap;
}

.kpi{
background:var(--card);
padding:20px;
border-radius:10px;
box-shadow:0 3px 8px rgba(0,0,0,0.1);
text-align:center;
width:220px;
}

.chart-wrapper{
display:flex;
flex-wrap:wrap;
justify-content:center;
gap:30px;
padding:20px;
}

.chart-box{
background:var(--card);
padding:20px;
border-radius:10px;
box-shadow:0 3px 8px rgba(0,0,0,0.1);
width:480px;
}

.bottom-buttons{
position:fixed;
bottom:20px;
left:0;
right:0;
display:flex;
justify-content:space-between;
padding:0 30px;
}

.center-toggle{
position:fixed;
bottom:20px;
left:50%;
transform:translateX(-50%);
}

button{
padding:10px 18px;
border:none;
border-radius:6px;
background:var(--primary);
color:white;
cursor:pointer;
}

footer{
text-align:center;
padding:15px;
background:var(--card);
margin-top:40px;
}

footer a{
color:var(--primary);
text-decoration:none;
font-weight:600;
}

</style>
</head>
<body>

<div class="top-bar">
<div class="clock" id="clock"></div>
</div>

<header>
<img src="https://drive.google.com/uc?export=view&id=1Y5PbMKEFDgSk9CiSZOAdVyxRyAse6hXU" class="logo">
<h2>SADIQ ABBASI HOSPITAL, BAHAWALPUR</h2>
<h3>Hospital Mortality Dashboard</h3>
</header>

<div class="filters">
<div><label>From Date</label><input type="date" id="fromDate"></div>
<div><label>To Date</label><input type="date" id="toDate"></div>
<div><label>Department</label><select id="department"><option value="">All</option></select></div>
<div><label>District</label><select id="district"><option value="">All</option></select></div>
<div><label>Diagnosis</label><select id="diagnosis"><option value="">All</option></select></div>
<div><label>Gender</label><select id="gender"><option value="">All</option></se
